<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>Merch — Shop</title>
  <style>
    /* Copied from index page to match look & feel */
    * { margin: 0; padding: 0; box-sizing: border-box; }
    :root { --accent: #007bff; --success: #28a745; }
    body { font-family: system-ui, Arial, sans-serif; padding: 2rem; background: linear-gradient(135deg, #f8f9fa 0%, #e3f2fd 50%, #f3e5f5 100%); background-size: 400% 400%; animation: gradientShift 15s ease infinite; color: #000; }
    @keyframes gradientShift { 0% { background-position: 0% 50%; } 50% { background-position: 100% 50%; } 100% { background-position: 0% 50%; } }
    .floating-shapes { position: fixed; top: 0; left: 0; width: 100%; height: 100%; pointer-events: none; z-index: 0; overflow: hidden; }
    .shape { position: absolute; opacity: 0.15; animation: float 20s infinite; }
    .shape:nth-child(1){ width:80px;height:80px;background:linear-gradient(135deg,var(--accent),var(--success));border-radius:50%; top:20%; left:10%; animation-duration:25s; }
    .shape:nth-child(2){ width:60px;height:60px;background:linear-gradient(135deg,var(--success),#ffc107);border-radius:30% 70% 70% 30% / 30% 30% 70% 70%; top:60%; right:15%; animation-duration:30s; }
    .shape:nth-child(3){ width:100px;height:100px;background:linear-gradient(135deg,#ffc107,var(--accent));border-radius:50% 50% 0 50%; bottom:20%; left:20%; animation-duration:35s; }
    .shape:nth-child(4){ width:70px;height:70px;background:linear-gradient(135deg,var(--accent),#dc3545);border-radius:50%; top:40%; right:30%; animation-duration:28s; }
    @keyframes float { 0%,100%{transform:translate(0,0) rotate(0deg);} 25%{transform:translate(30px,-30px) rotate(90deg);} 50%{transform:translate(-20px,20px) rotate(180deg);} 75%{transform:translate(40px,10px) rotate(270deg);} }

    .grid { display:grid; grid-template-columns: repeat(auto-fill,minmax(200px,1fr)); gap:1rem; position: relative; z-index: 1 }
    .card { border:1px solid rgba(0,0,0,0.06); padding:1rem; border-radius:6px; background: rgba(255,255,255,0.8); }
    .card img { width:100%; height:150px; object-fit:cover }
    .cart-btn { position:fixed; right:1rem; bottom:1rem; background:#000;color:#fff;padding:.75rem 1rem;border-radius:999px;cursor:pointer }
    #cartModal { display:none; position:fixed; left:0; top:0; right:0; bottom:0; background:rgba(0,0,0,.6); align-items:center; justify-content:center }
    #cartModal .panel { background:#fff; max-width:720px; width:100%; padding:1rem; border-radius:8px }
    .cart-list { max-height:300px; overflow:auto }
    .row { display:flex; gap:1rem; align-items:center }
    .muted { color:#666 }
    .btn { background:#0070f3;color:#fff;padding:.5rem .75rem;border-radius:6px;border:0;cursor:pointer }

    /* custom cursor elements */
    .cursor-dot { width: 18px; height: 18px; background: radial-gradient(circle, #ff0080, #7928ca, #0070f3); border-radius: 50%; position: fixed; pointer-events: none; transform: translate(-50%, -50%); transition: transform 0.15s ease; z-index: 10000; box-shadow: 0 0 30px rgba(255,0,128,0.6); }
    .cursor-outline { width: 48px; height: 48px; border: 3px solid #ff0080; border-radius: 50%; position: fixed; pointer-events: none; transform: translate(-50%, -50%); transition: transform 0.2s ease; z-index: 9999; opacity: 0.9; }
  </style>
</head>
<body>
  <div class="floating-shapes" aria-hidden="true">
    <div class="shape"></div>
    <div class="shape"></div>
    <div class="shape"></div>
    <div class="shape"></div>
  </div>
  <div class="cursor-dot" id="cursorDot"></div>
  <div class="cursor-outline" id="cursorOutline"></div>

  <h1>Merch Store</h1>
  <div id="shopStatus" class="muted" style="margin-bottom:1rem">Checking Printify status…</div>
  <div style="margin-bottom:1rem">
    <label style="font-size:0.95rem">Currency: 
      <select id="currencySelector" aria-label="Choose currency">
        <option value="USD">USD</option>
        <option value="AUD">AUD</option>
        <option value="JPY">JPY</option>
        <option value="EUR">EUR</option>
        <option value="GBP">GBP</option>
      </select>
    </label>
  </div>
  <div id="productGrid" class="grid">Loading…</div>

  <button id="viewCart" class="cart-btn">View cart (<span id="cartCount">0</span>)</button>

  <div id="cartModal">
    <div class="panel">
      <h2>Your cart</h2>
      <div id="cartList" class="cart-list"></div>
      <div class="row" style="justify-content:space-between;margin-top:1rem">
        <div>
          <div style="margin-bottom:.5rem">Shipping: 
            <select id="shippingSelector" aria-label="Select shipping method">
              <option value="standard">Standard</option>
              <option value="express">Express</option>
            </select>
            <span id="shippingCost" class="muted" style="margin-left:.5rem">—</span>
          </div>
          <div><strong>Total:</strong> <span id="cartTotal">0.00</span></div>
        </div>
        <div>
          <button id="closeCart" class="btn">Close</button>
          <button id="checkoutBtn" class="btn">Checkout</button>
        </div>
      </div>

      <div id="checkoutForm" style="display:none;margin-top:1rem">
        <h3>Checkout</h3>
        <form id="form">
          <div>
            <label>Full name<br><input name="first_name" required></label>
          </div>
          <div>
            <label>Email<br><input name="email" type="email" required></label>
          </div>
          <div>
            <label>Address<br><input name="address1" required></label>
          </div>
          <div>
            <label>City<br><input name="city" required></label>
          </div>
          <div>
            <label>ZIP<br><input name="zip" required></label>
          </div>
          <div style="margin-top:1rem">
            <label id="confirmLabel" style="display:none"><input type="checkbox" id="confirmOrder" name="confirm_real"> I confirm this will place a real order and charge my account.</label>
            <div style="margin-top:.5rem">
              <button type="submit" class="btn">Place order</button>
            </div>
          </div>
        </form>
        <div id="orderResult" style="margin-top:1rem"></div>
      </div>

    </div>
  </div>

  <div id="productModal" style="display:none; position:fixed; left:0; top:0; right:0; bottom:0; background:rgba(0,0,0,.6); align-items:center; justify-content:center;">
    <div class="panel" id="productPanel" style="max-width:720px; position:relative;">
      <button id="closeProduct" class="btn" style="position:absolute; right:1rem; top:1rem;">Close</button>
      <h2 id="productTitle"></h2>
      <img id="productImage" src="" style="width:100%; height:260px; object-fit:cover; border-radius:6px"/>
      <div id="productDescription" class="muted" style="margin-top:0.5rem"></div>
      <h4 style="margin-top:1rem">Shipping</h4>
      <pre id="productShipping" class="muted" style="white-space:pre-wrap"></pre>
    </div>
  </div>
  <script>
    // Minimal cursor movement to match index feel
    (function(){
      const dot = document.getElementById('cursorDot');
      const outline = document.getElementById('cursorOutline');
      if(!dot || !outline) return;
      document.addEventListener('mousemove', (e)=>{
        dot.style.left = e.clientX + 'px'; dot.style.top = e.clientY + 'px';
        outline.style.left = e.clientX + 'px'; outline.style.top = e.clientY + 'px';
      });
      document.addEventListener('mousedown', ()=>{ dot.classList.add('click'); outline.classList.add('click'); });
      document.addEventListener('mouseup', ()=>{ dot.classList.remove('click'); outline.classList.remove('click'); });
      // hover effect on buttons
      document.querySelectorAll('button, a, .card').forEach(el=>{
        el.addEventListener('mouseenter', ()=>{ dot.classList.add('hover'); outline.classList.add('hover'); });
        el.addEventListener('mouseleave', ()=>{ dot.classList.remove('hover'); outline.classList.remove('hover'); });
      });
    })();
  </script>
  <script src="/assets/merch.js"></script>
</body>
</html>
